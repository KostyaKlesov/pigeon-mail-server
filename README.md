# Реализация сервера голубиной почты

## Файл client.c
### Функция **uint8_t packTwoValues()**
Служит для упаковки двух целочисленных значений(индексы первого элемента передаваемого массива и последнего)
#### Описание алгоритма 
Подаются на вход два значения(*start_index*, *end_index*). Младшие 4 бита первого значения помещаются в старшие 4 бита выходного значния. А младшие 4 бита второго значения помещаются в младшие 4 бита выходного значения. Возвращается одно восьмибитное число.
### Реализация клиентской части
Отправка данных серверной части реализована в функции main. В этой функции происходит создание сокета, заполнение структуры server с информацией о сервере, чтение ввода пользователя, упаковка данных в пакеты и отправка их на сервер.
#### Описание алгоритма 
1. Создается сокет с использованием функции **socket()**.
2. Описывается структура server с информацией о сервере.
3. Данные, введенные пользователем, считываются с помощью функции **getline()**
4. Описывается структура packet, включающая в себя:
    * *num* (переменная, хранящая порядковый номер сообщения)
    * *msg[3]* (массив, хранящий символы кода ячейки для отправки/получения)
    * *data_byte* (переменная, для упаковки/распаковки индексов)
4. Данные упаковываются в пакеты с использованием цикла **for()**, структуры **packet** и функции **packTwoValues**:
    * Порядковый номер сообщения приравнивается к переменной цикла - *i*
    * Упаковываются индексы первого и последнего передаваемых элементов
    * Данные копируются из переменной, хранящей код ячейки, введенный пользователем, начиная с *i-ого* элемента. 
5. Упакованные данные отправляются на сервер с использованием sendto().
## Файл server.c
### Функция **unpackTwoValues()**
Служит для распаковки двух целочисленных значений(индексы первого элемента передаваемого массива и последнего)
#### Описание алгоритма 
Подается на вход восьмибитное число. Старшие 4 бита входного числа возвращаются в младшие 4 бита первого выходного значения. Младшие 4 бита входного значения помещаются в младшие 4 бита второго выходного значения.

Функция возвращает два восьмибитных числа.

### Реализация серверной части

Получение данных с клиентской части реализована в функции main. В этой функции происходит создание сокета, заполнение структуры server с информацией о сервере, получение и распаковка данных, приведение сообщения в исходный вид.

#### Описание алгоритма
1. Создается сокет с использованием функции **socket()** для прослушивания входящих пакетов.
2. Устанавливается соединение с сервером по указанному IP-адресу и порту.
3. Происходит привязка сокета к адресу сервера с использованием **bind()**.
4. Происходит получение информация о порте, который используется для прослушивания.
5. Цикл **for(i)** для приема 6 пакетов:
    * Принимается пакет данных с помощью **recvfrom()**.
    * Данные из пакета распаковываются с помощью функции **unpackTwoValues()**.
    * Полученные данные копируются в символьный массив **msg_buff**.
    * Вложенный цикл **for(j)**:
        * Каждый раз начинается со значения, равному длине символьного массива итогового сообщения **message[]**
        * В теле цикла каждый элемент message[j] заполняется символом из массива msg_buff, смещенным на значение j - start_index.    
6. Выводится полученное сообщение после всех 6 пакетов.
7. Сокет закрывается с помощью close.